# net-viewer
Инструмент мониторинга устройств в сети на основе SNMP

## Целевое назначение
Если у вас хоть раз возникал вопрос "в какой порт на коммутаторе воткнуто то или иное устройство ethernet", 
этот инструмент для вас.<br>
Имеет смысл, при наличии хотя бы одного коммутирующего устройства в локальной сети, 
обладающего функциональность SNMP.<br>
Как правило, устройства уровня L3 - как раз, то что надо.<br>
Идея состоит в следующем: обнаружить, найти, показать устройства в локальной сети, 
выдать максимально возможную информацию о них,
и, главное, в какие порты они скоммутированы. Например, для их физического поиска. 
Или для построения VLAN. Или для инвентаризации, и т.д.<br>
Для запуска будет достаточно одного коммутатора с функциональностью SNMP и нескольких устройств в сети.

## С точки зрения безопасности
Задача вытащить сопоставление MACaddr-port вполне решаема на многих коммутаторах; 
достаточно доступа через SNMP к "public" community.
Для безопасности надо ограничить запросы с адреса хоста, где будет развернуто приложение.<br>
Задача получить подобный результат как `arp -a` на некоторых устройствах не тривиальна, 
а для некоторых, не выполнима. Разве что через доступ по ssh. 
Но этого мы делать не будем, слишком много вопросов появляется с точки зрения безопасности.<br>
Используем только SNMP, причем нарулить этот доступ необходимо самостоятельно. Не сложно. 
Опять же, с вашими требованиями к безопасности устройств в вашей сети.


## Запуск

```
git clone https://github.com/AlexeiShigaev/net-viewer.git
cd net-viewer
docker compose up --build
```

## Далее в браузере
Предполагается, что вы нарулили хотя бы одно устройство для запросов SNMP с хоста на котором развернули приложение.
Идем в браузере по адресу ```http://host:8008/web/```. Логин admin, стартовый пароль admin. Сменить пароль возможность есть.
Добавляем устройство.

Для тестирования API ```http://host:8008/docs``` (swagger)


## Почистить после
Если очень хочется совсем все вычистить, включая скачанные образы контейнеров.
```
docker system prune -af
```

## Использованы технологии
FastAPI, MongoDB (с драйвером Motor), Pydantic, Jinja2Templates, Swagger<br>
Авторизация через JSON Web Token, передаем его в куки. В базе хэш пароля (HS256).<br>
Все это целиком завернуто в Docker.
